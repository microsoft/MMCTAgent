<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MMCTAgent</title>
    <link rel="stylesheet" href="styles/styles01.css" />
    <!-- Prism.js Core -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <!-- Python syntax support -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>

<body>

    <!-- Content -->
    <div class="maincontainer">
        <div class="introauthors">
            <h1>MMCT</h1>
            <div class="small-intro"> A novel multi-modal critical thinking agent framework
                designed to address the inherent limitations of current MLLMs in complex visual reasoning tasks.
            </div>
            <p class="creater-names">
                Tanuja Ganu, Akshay Nambi
            </p>

            <p class="author-block">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft Logo"
                    class="author-logo">
                Microsoft Research
            </p>
        </div>

        <div class="addimages">
            <div class="image-container">
                <img src="images&icons/mmct-model.png" alt="MMCT Model">
                <p class="caption">fig1. MMCT Model</p>
            </div>
            <div class="image-container">
                <img src="images&icons/agent2.png" alt="Video Agent">
                <p class="caption">fig2. MMCT workflow</p>
            </div>
        </div>

        <div id="modal" class="modal" onclick="closeModal()">
            <span class="close">&times;</span>
            <img class="modal-content" id="modal-img">
            <div id="caption" class="modal-caption"></div>
        </div>

        <div class="content">
            <section class="overview">
                <h2>Overview</h2>
                <div class="section-box">
                    <p><strong>MMCT (Multi-Modal Critical Thinking)</strong> is an innovative AI framework designed to
                        solve complex
                        visual understanding and reasoning tasks from images to long-form videos. Users simply provide
                        an image or video along with a question, and MMCT returns intelligent, accurate answers by
                        thinking critically-just like a human would.

                        Unlike traditional models that provide direct answers, MMCT mimics human problem-solving,
                        breaking tasks into manageable steps. It doesn‚Äôt just generate answers-it plans, reasons,
                        gathers additional information, and verifies before concluding. This iterative and thoughtful
                        process makes MMCT far more reliable in complex real-world scenarios.
                    </p>
                    <p>MMCT is a novel multi-modal critical thinking agent designed and built upon our
                        <a href="https://arxiv.org/pdf/2405.18358" target="_blank">research paper</a>. At the core of
                        the MMCT framework are two key components: the <strong>Planner</strong> and <strong>Critic</strong> (refer fig1. MMCT Model). It consists of two primary
                        agents that work in tandem to process and interpret multimodal content efficiently - <strong>ImageAgent</strong>
                        and <strong>VideoAgent</strong> to process Images and Long videos respectively.
                        MMCT combines
                        planning, self-critique, and tool-based reasoning to enhance decision-making in complex
                        multi-modal tasks
                        which are powered by Microsoft's autogen.
                    </p>
                </div>
            </section>

            <!-- Features -->
            <section class="features">
                <h2>Key Features</h2>
                <div class="cta-visual">
                    <h3>Critical Thinking Architecture</h3>
                    <div class="cta-grid">
                        <div class="cta-card planner">
                            <h4>üß† Planner</h4>
                            <p>Understands the query, breaks it down, and selects the tools to analyze the visual or
                                multi-modal data and Generates an initial response using relevant tools.</p>
                        </div>
                        <div class="cta-card critic">
                            <h4>üîç Critic <span class="optional-tag">(Optional)</span></h4>
                            <p>Evaluates the Planner‚Äôs response and provides feedback to improve accuracy and
                                decision-making.</p>
                        </div>
                    </div>
                </div>

                <div class="agent-visual">
                    <h3>Modular Agents</h3>
                    <div class="agent-grid">

                        <!-- ImageAgent Card -->
                        <div class="agent-card">
                            <div class="nextbutton" onclick="window.location.href='imageAgent.html'">
                                <h4>üñºÔ∏è ImageAgent </h4>
                                <div class="nextButton">
                                    <img src="images&icons/next1.png" alt="image here">
                                </div>
                            </div>

                            <p>Image-focused agent with support for:</p>
                            <ul>
                                <li><strong>object_detection:</strong> Detects objects in the image.</li>
                                <li><strong>ocr:</strong> Extracts embedded text.</li>
                                <li><strong>recog:</strong> Recognizes scenes, faces, etc.</li>
                                <li><strong>vit:</strong> Uses GPT-4V for visual reasoning.</li>
                            </ul>
                        </div>

                        <div class="agent-card video-agent">
                            <div class="nextbutton" onclick="window.location.href='videoAgent.html'">
                                <h4>üé• VideoAgent</h4>
                                <div class="nextButton">
                                    <img src="images&icons/next1.png" alt="image here">
                                </div>
                            </div>

                            <p>Video analysis via a two-stage pipeline:</p>
                            <ol>
                                <li><strong>Video Retrieval:</strong> via Azure AI Search.</li>
                                <li><strong>Video QA:</strong> Using transcript/summary extraction, Azure CV, GPT-4V,
                                    etc.</li>
                            </ol>

                            <p class="note">
                                <strong>Note:</strong> Before using the videoAgent make sure <button class="required"
                                    onclick="window.location.href='videoAgent.html#ingestion-required'">Video
                                    ingestion</button> is done.
                            </p>

                        </div>
                    </div>
                </div>
            </section>

            <!-- use cases -->
            <section class="use-cases">
                <div class="heading-toggle">
                    <h2>Use Cases</h2>
                    <button class="toggle-btn" onclick="toggleSection('use-case', this)">
                        <img src="https://cdn-icons-png.flaticon.com/512/130/130907.png" alt="Toggle" />
                    </button>
                </div>
                <div id="use-case" style="display: none;">
                    <div class="section-box">
                        <ol>
                            <li>
                                <strong>Medical Imaging & Procedure Explanation‚Äã</strong>
                                <p>‚ÄúGiven a surgical procedure video,
                                    identify and describe the moment
                                    when a specific step ‚Äã
                                    (e.g., incision, suturing) occurs.‚Äù
                                    ‚Äã</p>
                            </li>
                            <li>
                                <strong>Industrial Maintenance Training QA‚Äã</strong>
                                <p>Locate and explain demonstrations
                                    of safety protocols or equipment
                                    usage in industrial training videos.‚Äã
                                    ‚ÄúWhen is the emergency shut-off
                                    procedure shown in the training video?‚Äù‚Äã
                                </p>
                            </li>
                            <li>
                                <strong>Video Surveillance Analysis‚Äã</strong>
                                <p>‚ÄúDetect and explain suspicious
                                    activities in surveillance footage
                                    based on a natural language query ‚Äã
                                    (e.g., ‚ÄòWas there any instance of a
                                    person leaving a bag unattended?‚Äô).‚Äù
                                    ‚Äã</p>
                            </li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- Getting Started -->
            <section class="getting-started">
                <div class="heading-toggle">
                    <h2>Getting Started</h2>
                    <button class="toggle-btn" onclick="toggleSection('gettingStartedSection', this)">
                        <img src="https://cdn-icons-png.flaticon.com/512/130/130907.png" alt="Toggle" />
                    </button>
                </div>

                <div id="gettingStartedSection" style="display: none;">
                    <p>Follow these steps to set up and run the project locally.</p>

                    <div class="step">
                        <h4>1Ô∏è‚É£ Clone the Repository</h4>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <code>
                    git clone --branch &lt;branch-name&gt; &lt;repository-url&gt;
                    cd &lt;project-directory&gt;
                            </code>
                        </div>
                    </div>

                    <div class="step">
                        <h4>2Ô∏è‚É£ Install FFmpeg</h4>
                        <p><strong>For Linux:</strong></p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <code>
                    apt-get update && apt-get install ffmpeg libsm6 libxext6 -y
                            </code>
                        </div>
                        <p><strong>For Windows:</strong> Download from <a href="https://ffmpeg.org/download.html"
                                target="_blank">ffmpeg.org</a>. Choose a Windows build (e.g., from <a
                                href="https://www.gyan.dev/ffmpeg/builds/" target="_blank">gyan.dev</a>), extract it,
                            and add the
                            <code>bin</code> folder to your system PATH.
                        </p>
                    </div>

                    <div class="step">
                        <h4>3Ô∏è‚É£ Install MiniConda (Optional)</h4>
                        <p>Download and install from the <a href="https://docs.conda.io/en/latest/miniconda.html"
                                target="_blank">official Miniconda page</a>.</p>
                    </div>

                    <div class="step">
                        <h4>4Ô∏è‚É£ Create the Environment</h4>
                        <p><strong>Using Conda:</strong></p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <code>
                    conda create -n &lt;env-name&gt; python=3.11.11
                    conda activate &lt;env-name&gt;
                            </code>
                        </div>

                        <p><strong>Using venv:</strong></p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <code>
                    python -m venv &lt;env-name&gt;
                    source &lt;env-name&gt;/bin/activate     # Linux/Mac
                    .\&lt;env-name&gt;\Scripts\activate.bat   # Windows
                            </code>
                        </div>
                    </div>

                    <div class="step">
                        <h4>5Ô∏è‚É£ Install Dependencies</h4>
                        <p>Make sure you have pip ‚â• 21.3 installed.</p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <code>
                    pip install --upgrade pip
                    pip install -r requirements.txt
                            </code>
                        </div>
                    </div>
                </div>
            </section>

            <!-- prerequisite table -->
            <section class="prerequisites">
                <div class="heading-toggle">
                    <h2>Prerequisites</h2>
                    <button class="toggle-btn" onclick="toggleSection('prerequisite', this)">
                        <img src="https://cdn-icons-png.flaticon.com/512/130/130907.png" alt="Toggle" />
                    </button>
                </div>

                <div id="prerequisite" style="display: none;">
                    <p>Below are the Azure resources required to execute this repository:</p>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Resource Name</th>
                                    <th>Documentation Article</th>
                                    <th>Microsoft Intra-Identity Role</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Storage Account</td>
                                    <td><a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-overview"
                                            target="_blank">Document</a></td>
                                    <td><em>Storage Blob Data Reader/Contributor</em></td>
                                </tr>
                                <tr>
                                    <td>Azure Computer Vision <span class="optional-tag">[Optional]</span></td>
                                    <td><a href="https://learn.microsoft.com/en-us/azure/ai-services/computer-vision/"
                                            target="_blank">Document</a></td>
                                    <td><em>Cognitive Services User</em></td>
                                </tr>
                                <tr>
                                    <td>Azure OpenAI (4o, 4o-mini, ada-002, Whisper)</td>
                                    <td><a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/"
                                            target="_blank">Document</a></td>
                                    <td><em>Cognitive Services OpenAI User</em></td>
                                </tr>
                                <tr>
                                    <td>Azure AI Search</td>
                                    <td><a href="https://learn.microsoft.com/en-us/azure/search/"
                                            target="_blank">Document</a></td>
                                    <td><em>Search Index Data Contributor</em></td>
                                </tr>
                                <tr>
                                    <td>Azure Speech Service</td>
                                    <td><a href="https://learn.microsoft.com/en-us/azure/ai-services/speech-service/"
                                            target="_blank">Document</a></td>
                                    <td><em>Speech Contributor/User</em></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="note-box">
                        <strong>Note:</strong> If you want to utilize Microsoft Azure Intra ID access, assign the
                        corresponding roles listed above to each resource.
                        Otherwise, you can use the <strong>API Key</strong> or <strong>Connection String</strong>
                        approach.
                    </div>
                </div>
            </section>

            <section class="usage-section">
                <div class="heading-toggle">
                    <h2>Usage</h2>
                    <button class="toggle-btn" onclick="toggleSection('usage', this)">
                        <img src="https://cdn-icons-png.flaticon.com/512/130/130907.png" alt="Toggle" />
                    </button>
                </div>

                <div id="usage" style="display: none;">
                    <p>
                        You can refer to the <code>examples</code> directory to understand how to use this repository.
                        Below are sample scripts to get started:
                    </p>

                    <!-- Image Agent -->
                    <div class="usage-block">
                        <h3>üñºÔ∏è MMCT Image Agent</h3>
                        <div class="code-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <pre><code class="language-python">
    from mmct.image_pipeline import ImageAgent, ImageQnaTools
    import asyncio
    import ast

    # User query
    query = ""

    # Define the tools (refer to ImageQnaTools Enum)
    tools = [ImageQnaTools.object_detection, ImageQnaTools.vit]

    # Flags
    use_critic_agent = True
    stream = False

    # Initialize the Image Agent
    mmct_agent = ImageAgent(
        query=query,
        image_path=image_path,
        tools=tools,
        use_critic_agent=use_critic_agent,
        stream=stream,
    )

    # Run and parse the result
    response = asyncio.run(mmct_agent.run())
    response = ast.literal_eval(response.content.split("TERMINATE")[0])
    print(response)</code></pre>
                        </div>
                    </div>

                    <!-- Video Agent -->
                    <div class="usage-block">
                        <h3>üé• MMCT Video Agent</h3>
                        <div class="code-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">
                                <img src="images&icons/copy.png" alt="Copy" /> copy
                            </button>
                            <pre><code class="language-python">
    import asyncio
    import ast
    from mmct.video_pipeline import VideoAgent

    query = ""
    index_name = ""  # Azure AI Search index name
    top_n = 3        # Top N videos to retrieve
    use_computer_vision_tool = False
    use_critic_agent = True
    stream = True

    video_agent = VideoAgent(
        query=query,
        index_name=index_name,
        top_n=top_n,
        use_computer_vision_tool=use_computer_vision_tool,
        use_critic_agent=use_critic_agent,
        stream=stream,
    )

    response = asyncio.run(video_agent())
    print(response)</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section class="faq">
                <h2>FAQ</h2>
                <div class="section-box">
                </div>
            </section>

            <!-- License -->
            <section class="license">
                <h2>License</h2>
                <div class="section-box">
                    <p>Microsoft's autogen</p>
                </div>
            </section>
        </div>
    </div>

    <script>
        function toggleSection(sectionId, btn) {
            const section = document.getElementById(sectionId);
            const img = btn.querySelector("img");

            if (section.style.display === "none" || section.style.display === "") {
                section.style.display = "block";
                img.src = "https://cdn-icons-png.flaticon.com/512/130/130906.png"; // up arrow
            } else {
                section.style.display = "none";
                img.src = "https://cdn-icons-png.flaticon.com/512/130/130907.png"; // down arrow
            }
        }

        document.querySelectorAll('.copy-btn').forEach(button => {
            button.addEventListener('click', () => {
                const code = button.nextElementSibling.innerText;
                navigator.clipboard.writeText(code).then(() => {
                    button.textContent = '‚úì Copied';
                    setTimeout(() => button.innerHTML = '<img src="images&icons/copy.png" /> copy', 1000);
                });
            });
        });
    </script>
</body>

</html>